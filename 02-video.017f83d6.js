var initialData=[{id:"1",title:"Apple. Эволюция компьютера",author:"Владимир Невзоров",img:"https://bukva.ua/img/products/449/449532_200.jpg",plot:"Богато иллюстрированный хронологический справочник по истории компьютеров, в котором увлекательно \n    и в структурированном виде изложена информация о создании и развитии техники Apple на фоне истории \n    персональных компьютеров в целом.\n    В книге даны описания десятков наиболее значимых моделей устройств как Apple, так и других производителей, \n    сопровождающиеся большим количеством оригинальных студийных фотографий.\n    Книга предназначена для широкого круга читателей, интересующихся историей электроники. \n    Она также может послужить источником вдохновения для дизайнеров, маркетологов и предпринимателей."},{id:"2",title:"Как объяснить ребенку информатику",author:"Кэрол Вордерман",img:"https://bukva.ua/img/products/480/480030_200.jpg",plot:"Иллюстрированная энциклопедия в формате инфографики о технических, социальных и культурных аспектах \n    в информатике. Пошагово объясняет, как детям максимально эффективно использовать компьютеры и интернет-сервисы, \n    оставаясь в безопасности. \n    Книга рассказывает обо всем: от хранения данных до жизни в интернет-пространстве, \n    от программирования до компьютерных атак. О том, как компьютеры функционируют, о современном программном \n    обеспечении, устройстве Интернета и цифровом этикете. Все концепты - от хакера до биткоина - \n    объясняются наглядно с помощью иллюстраций и схем."},{id:"3",title:"Путь скрам-мастера. #ScrumMasterWay",author:"Зузана Шохова",img:"https://bukva.ua/img/products/480/480090_200.jpg",plot:"Эта книга поможет вам стать выдающимся скрам-мастером и добиться отличных результатов с вашей командой. \n    Она иллюстрированная и легкая для восприятия - вы сможете прочитать ее за выходные, а пользоваться полученными \n    знаниями будете в течение всей карьеры.\n    Основываясь на 15-летнем опыте, Зузана Шохова рассказывает, какие роли и обязанности есть у скрам-мастера, \n    как ему решать повседневные задачи, какие компетенции нужны, чтобы стать выдающимся скрам-мастером, \n    какими инструментами ему нужно пользоваться."}];localStorage.getItem("books")||localStorage.setItem("books",JSON.stringify(initialData));var leftDiv=document.createElement("div"),rightDiv=document.createElement("div");leftDiv.classList.add("left"),rightDiv.classList.add("right");var rootDiv=document.querySelector("#root");rootDiv.append(leftDiv,rightDiv);var title=document.createElement("h1");title.textContent="Library";var list=document.createElement("ul"),addBtn=document.createElement("button");function renderBooksList(){var t=JSON.parse(localStorage.getItem("books")).map((function(t){var e=t.title,n=t.id;return"<li data-id ='".concat(n,'\'><p class = "book-title">').concat(e,'</p><button class ="edit">Edit</button><button class ="delete">Delete</button></li>')})).join("");list.innerHTML="",list.insertAdjacentHTML("afterbegin",t),document.querySelectorAll(".book-title").forEach((function(t){t.addEventListener("click",renderPreview)})),document.querySelectorAll(".delete").forEach((function(t){t.addEventListener("click",deleteBook)})),document.querySelectorAll(".edit").forEach((function(t){t.addEventListener("click",editBook)}))}function renderPreview(t){var e=JSON.parse(localStorage.getItem("books")),n=t.target.parentNode.dataset.id,o=createPreviewMarkup(e.find((function(t){return t.id===n})));console.log(o),rightDiv.innerHTML=o}function createPreviewMarkup(t){var e=t.title,n=t.author,o=t.img,r=t.plot;return"<div>\n<h2>".concat(e,"</h2>\n<p>").concat(n,"</p>\n<img src ='").concat(o,"'/>\n<p>").concat(r,"</p>\n</div>")}function deleteBook(t){var e=JSON.parse(localStorage.getItem("books")),n=t.target.parentNode.dataset.id,o=e.filter((function(t){return t.id!==n}));localStorage.setItem("books",JSON.stringify(o)),renderBooksList()}function addBook(){var t={id:"".concat(Date.now()),title:"",author:"",img:"",plot:""},e=createFormMarkup(t);rightDiv.innerHTML=e,fillObject(t),document.querySelector("form").addEventListener("submit",(function(e){e.preventDefault();var n=JSON.parse(localStorage.getItem("books"));n.push(t),localStorage.setItem("books",JSON.stringify(n)),renderBooksList();var o=createPreviewMarkup(t);console.log(o),rightDiv.innerHTML=o}))}function createFormMarkup(t){var e=t.title,n=t.author,o=t.img,r=t.plot;return"<form>\n  <label>Name:<input type='text' name='title' value='".concat(e,"'/></label>\n  <label>Author:<input type='text' name='author' value='").concat(n,"'/></label>\n  <label>Image:<input type='text' name='img' value='").concat(o,"'/></label>\n  <label>Plot:<input type='text' name='plot' value='").concat(r,"'/></label>\n  <button>Save</button>\n  </form>")}function fillObject(t){function e(e){t[e.target.name]=e.target.value}document.querySelectorAll("input").forEach((function(t){return t.addEventListener("change",e)}))}function editBook(t){var e=JSON.parse(localStorage.getItem("books")),n=t.target.parentNode.dataset.id,o=e.find((function(t){return t.id===n})),r=createFormMarkup(o);rightDiv.innerHTML=r,fillObject(o),document.querySelector("form").addEventListener("submit",(function(t){t.preventDefault();var e=JSON.parse(localStorage.getItem("books")),r=e.findIndex((function(t){return t.id===n}));e[r]=o,localStorage.setItem("books",JSON.stringify(e)),renderBooksList();var a=createPreviewMarkup(e);rightDiv.innerHTML=a}))}addBtn.textContent="ADD",leftDiv.append(title,list,addBtn),renderBooksList(),addBtn.addEventListener("click",addBook);
//# sourceMappingURL=02-video.017f83d6.js.map
