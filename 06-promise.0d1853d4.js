!function(){var e=new Promise((function(e,o){var n=Math.random()>.5;setTimeout((function(){n&&e("✅Промис 1 выполнился успешно, с результатом(исполнен, fulfied)"),o("❌Промис1 выполнился с ошибкой (отклонен, rejected)")}),1e3)}));console.log(e),e.then((function(e){console.log("onFulfield 2 -> onFulfield"),console.log("".concat(e))}),(function(e){console.log("onRejected 2 -> onRejected"),console.log("".concat(e))}));var o;(o="пирожок",new Promise((function(e,n){setTimeout((function(){Math.random()>.5&&e("makeOrder ✅ Вот Ваше блюдо ".concat(o," ")),n("makeOrder ❌ Извините закончились продукты не сможем сделать ".concat(o))}),1e3)}))).then((function(e){console.log("onMakeOrderSuccess"),console.log("".concat(e))})).catch((function(e){console.log("onMakeOrderError"),console.log(e)})),fetch("https://pokeapi.co/api/v2/pokemon/2").then((function(e){return e.json()})).then((function(e){console.log(e)}));var n=function(e){return fetch("https://pokeapi.co/api/v2/pokemon/".concat(e)).then((function(e){return e.json()}))};function t(e){console.log("onFetchSuccess -> onFetchSuccess"),console.log(e)}function c(e){console.log("onFetchError -> onFetchError"),console.log(e)}n(1).then(t).catch(c),n(2).then(t).catch(c);var r=["Secretariat","Eclipce","West Australian","Flying Fox","Seabiscult"],i=0,a={startBtn:document.querySelector(".js-start-race"),winnerField:document.querySelector(".js-winner"),progressField:document.querySelector(".js-progress"),tableBody:document.querySelector(".js-results-table > tbody")};function s(e){a.winnerField.textContent=e}function l(e){a.progressField.textContent=e}function u(e){return new Promise((function(o){var n,t,c=(n=1e3,t=2500,Math.floor(Math.random()*(t-n+1)+n));setTimeout((function(){o({horse:e,time:c})}),c)}))}a.startBtn.addEventListener("click",(function(){i++;var e=r.map(u);s(""),l("Заезд начался, ставки не принимаются!"),o=e,Promise.race(o).then((function(e){var o=e.horse,n=e.time;s("Победил ".concat(o,", финишировав за ").concat(n,", времени")),function(e){var o=e.horse,n=e.time,t=e.raceCounter,c="<tr><td>".concat(t,"</td><td>").concat(o,"</td><td>").concat(n,"</td></tr>");a.tableBody.insertAdjacentHTML("beforeend",c)}({horse:o,time:n,raceCounter:i})})),function(e){Promise.all(e).then((function(){l("Заезд окончен, принимаются ставки")}))}(e);var o}))}();
//# sourceMappingURL=06-promise.0d1853d4.js.map
